<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="/stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="/stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="/stylesheets/print.css" media="print" />

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title> Learning metaprogramming </title>
  </head>

  <body>
    <header>
      <div class="inner">
        <!-- <h1> Jevan's Blog </h1> -->
        <h1>Jevan Wu</h1>
        <h2>Web developer | Vim User | Team Lead <br> Chengdu, China</h2>
        <h3>
          <a href="https://github.com/JevanWu">Github</a> |
          <a href="https://www.linkedin.com/in/jevan-wu-5496a76b/">Linkedin</a> |
          <a href="mailto:jevanwu@gmail.com">Email</a>
        </h3>
        <div class="avatar">
          <img src="/images/avatar.jpeg"/>
        </div>
        <!-- <a href="https://github.com/pietromenna/jekyll&#45;architect&#45;theme" class="button"><small>Follow me on</small>GitHub</a> -->
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">

          <h2>Learning metaprogramming</h2>
<p class="meta">01 Feb 2015</p>

<h4 id="1-dynamic-patch">1. Dynamic Patch</h4>
<p>the <code class="language-plaintext highlighter-rouge">send</code> method could be used to call methods</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  obj.send(:my_method, params)
</code></pre></div></div>

<h4 id="2-dynamic-method">2. Dynamic Method</h4>
<p>the <code class="language-plaintext highlighter-rouge">define_method</code> method could be used to create instance method</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  class Foo do
    define_method(name) do
      info = @data_source.send "get_#{name}_info", @id price = @data_source.send "get_#{name}_price", @id result = "#{name.capitalize}: #{info} ($#{price})" return "* #{result}" if price &gt;= 100
      result
    end
  end
</code></pre></div></div>

<p>the <code class="language-plaintext highlighter-rouge">instance_method</code> could be used to call an instance method</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  f = Foo.new
  f.instance_method(:method_name)
</code></pre></div></div>

<h4 id="3-remove-method">3. Remove Method</h4>
<p>the <code class="language-plaintext highlighter-rouge">undef_method</code> method could be used to remove method, it would remove both receiverâ€™s methods and inherited methods</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  undef_method method_name
</code></pre></div></div>

<p>the <code class="language-plaintext highlighter-rouge">remove_method</code> method is similar, but it leaves the inherited methods</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  remove_method method_name
</code></pre></div></div>




        </section>

        <aside id="sidebar">
          <!-- <a href="https://github.com/pietromenna/jekyll&#45;architect&#45;theme/archive/master.zip" class="button"> -->
          <!--   <small>Download</small> -->
          <!--   .zip file -->
          <!-- </a> -->
          <!-- <a href="https://github.com/pietromenna/jekyll&#45;architect&#45;theme/archive/master.tar.gz" class="button"> -->
          <!--   <small>Download</small> -->
          <!--   .tar.gz file -->
          <!-- </a> -->
          <h3>Featured:</h3>
          <ul>
            <li><a href="/">Home</a></li>
            
              <li><a href="/categories/ruby" name="ruby"># ruby</a></li>
            
              <li><a href="/categories/programming" name="programming"># programming</a></li>
            
              <li><a href="/categories/reading" name="reading"># reading</a></li>
            
          </ul>

          <p class="repo-owner"><a href="https://github.com/pietromenna/jekyll-architect-theme">jekyll-architect-theme</a> is maintained by <a href="https://github.com/pietromenna">pietromenna</a>.</p>

          <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.</p>
        </aside>
      </div>
    </div>

  </body>
</html>
