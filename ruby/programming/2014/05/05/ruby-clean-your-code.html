<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="/stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="/stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="/stylesheets/print.css" media="print" />

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title> Ruby: Clean your code! </title>
    <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Ruby: Clean your code! | Jevan Wu’s Blog</title>
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="Ruby: Clean your code!" />
<meta property="og:locale" content="en" />
<meta name="description" content="1. Minimize the number of “nested if statement” “nested if statement” is normally considered as the code smell. We should try to minimize the number of “nested if statement”, though we cannot avoid using it completely." />
<meta property="og:description" content="1. Minimize the number of “nested if statement” “nested if statement” is normally considered as the code smell. We should try to minimize the number of “nested if statement”, though we cannot avoid using it completely." />
<link rel="canonical" href="https://jevanwu.github.io//ruby/programming/2014/05/05/ruby-clean-your-code.html" />
<meta property="og:url" content="https://jevanwu.github.io//ruby/programming/2014/05/05/ruby-clean-your-code.html" />
<meta property="og:site_name" content="Jevan Wu’s Blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2014-05-05T00:00:00+08:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Ruby: Clean your code!" />
<script type="application/ld+json">
{"mainEntityOfPage":{"@type":"WebPage","@id":"https://jevanwu.github.io//ruby/programming/2014/05/05/ruby-clean-your-code.html"},"url":"https://jevanwu.github.io//ruby/programming/2014/05/05/ruby-clean-your-code.html","description":"1. Minimize the number of “nested if statement” “nested if statement” is normally considered as the code smell. We should try to minimize the number of “nested if statement”, though we cannot avoid using it completely.","headline":"Ruby: Clean your code!","dateModified":"2014-05-05T00:00:00+08:00","datePublished":"2014-05-05T00:00:00+08:00","@type":"BlogPosting","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

  </head>

  <body>
    <header>
      <div class="inner">
        <!-- <h1> Jevan Wu's Blog </h1> -->
        <h1>Jevan Wu</h1>
        <h2>Who: Web developer | Team Lead | Vim User <br> Location: Chengdu, China</h2>
        <h3>
          contacts:
          <a href="https://github.com/JevanWu" target="_blank">Github</a> |
          <a href="https://www.linkedin.com/in/jevan-wu/" target="_blank">Linkedin</a> |
          <a href="mailto:jevanwu@gmail.com">Email</a>
        </h3>
        <div class="avatar">
          <img src="/images/avatar.jpeg"/>
        </div>
        <!-- <a href="https://github.com/pietromenna/jekyll&#45;architect&#45;theme" class="button"><small>Follow me on</small>GitHub</a> -->
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">

          <h2>Ruby: Clean your code!</h2>
<p class="meta">05 May 2014</p>

<h2 id="1-minimize-the-number-of-nested-if-statement">1. Minimize the number of “nested if statement”</h2>
<p>“nested if statement” is normally considered as the code smell. We should try to minimize the number of “nested if statement”, though we cannot avoid using it completely.</p>

<h4 id="1-if-the-if-statement-is-embraced-by-a-loop-and-without-else-use-next-instead">1. if the ‘if statement’ is embraced by a loop and without ‘else’, use ‘next’ instead</h4>
<p>original code:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="n">foo</span><span class="p">.</span><span class="nf">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">f</span><span class="o">|</span>
   <span class="k">if</span> <span class="n">bar</span>
     <span class="k">if</span> <span class="n">baz</span>
       <span class="o">...</span>
     <span class="k">else</span>
       <span class="o">...</span>
     <span class="k">end</span>
   <span class="k">end</span>
 <span class="k">end</span>
</code></pre></div></div>

<p>It looks not quike clean, isn’t it?</p>

<p>cleaned code:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="n">foo</span><span class="p">.</span><span class="nf">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">f</span><span class="o">|</span>
   <span class="k">next</span> <span class="k">if</span> <span class="n">bar</span>
   <span class="k">if</span> <span class="n">baz</span>
     <span class="o">...</span>
   <span class="k">else</span>
     <span class="o">...</span>
   <span class="k">end</span>
 <span class="k">end</span>
</code></pre></div></div>
<p>It looks much better to me.</p>

<h4 id="2-use-variable-to-eliminate-the-if-statement">2. use variable to eliminate the ‘if statement’</h4>
<p>original code:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="k">if</span> <span class="n">bar</span>
   <span class="nb">name</span> <span class="o">=</span> <span class="s2">"Jevan"</span>
   <span class="n">age</span> <span class="o">=</span> <span class="mi">24</span>
 <span class="k">else</span>
   <span class="nb">name</span> <span class="o">=</span> <span class="s2">"John"</span>
   <span class="n">age</span> <span class="o">=</span> <span class="mi">24</span>
 <span class="k">end</span>
</code></pre></div></div>

<p>cleaned code:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="n">user_name</span> <span class="o">=</span> <span class="n">bar</span> <span class="p">?</span> <span class="s2">"Jevan"</span> <span class="p">:</span> <span class="s2">"John"</span>
 <span class="nb">name</span> <span class="o">=</span> <span class="n">user_name</span>
 <span class="n">age</span> <span class="o">=</span> <span class="mi">24</span>
</code></pre></div></div>



<hr>

<p>
Tags:&nbsp;

  <a class='tag' href="/categories/ruby" name="ruby">ruby</a>

  <a class='tag' href="/categories/programming" name="programming">programming</a>

</p>


        </section>

        <aside id="sidebar">
          <!-- <a href="https://github.com/pietromenna/jekyll&#45;architect&#45;theme/archive/master.zip" class="button"> -->
          <!--   <small>Download</small> -->
          <!--   .zip file -->
          <!-- </a> -->
          <!-- <a href="https://github.com/pietromenna/jekyll&#45;architect&#45;theme/archive/master.tar.gz" class="button"> -->
          <!--   <small>Download</small> -->
          <!--   .tar.gz file -->
          <!-- </a> -->
          <h3>Categories:</h3>
          <ul>
            <li><a href="/">Home</a></li>
            
              <li><a href="/categories/ruby" name="ruby"># ruby</a></li>
            
              <li><a href="/categories/programming" name="programming"># programming</a></li>
            
              <li><a href="/categories/reading" name="reading"># reading</a></li>
            
              <li><a href="/categories/life" name="life"># life</a></li>
            
              <li><a href="/categories/work" name="work"># work</a></li>
            
          </ul>

        </aside>
      </div>
    </div>

  </body>
</html>
