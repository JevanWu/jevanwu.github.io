<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.3.3" /><meta property="og:title" content="聊一聊设计模式" /><meta property="og:locale" content="en" /><meta name="description" content="背景 作为程序员，数据结构, 算法和设计模式是经常被提起，且绕不过的三扇大门。对这三项通用技能的掌握可能直接影响你能拿到手的钱。" /><meta property="og:description" content="背景 作为程序员，数据结构, 算法和设计模式是经常被提起，且绕不过的三扇大门。对这三项通用技能的掌握可能直接影响你能拿到手的钱。" /><link rel="canonical" href="/posts/%E8%81%8A%E4%B8%80%E8%81%8A%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" /><meta property="og:url" content="/posts/%E8%81%8A%E4%B8%80%E8%81%8A%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" /><meta property="og:site_name" content="Jevan Wu" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2020-11-15T00:00:00+08:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="聊一聊设计模式" /><meta name="twitter:site" content="@JevanWu" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2022-02-03T12:37:32+08:00","datePublished":"2020-11-15T00:00:00+08:00","description":"背景 作为程序员，数据结构, 算法和设计模式是经常被提起，且绕不过的三扇大门。对这三项通用技能的掌握可能直接影响你能拿到手的钱。","headline":"聊一聊设计模式","mainEntityOfPage":{"@type":"WebPage","@id":"/posts/%E8%81%8A%E4%B8%80%E8%81%8A%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"},"url":"/posts/%E8%81%8A%E4%B8%80%E8%81%8A%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"}</script><title>聊一聊设计模式 | Jevan Wu</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Jevan Wu"><meta name="application-name" content="Jevan Wu"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end" lang="en"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="https://zhishi.oss-cn-beijing.aliyuncs.com/perm/avatar/1.jpeg?x-oss-process=image/resize,h_150,m_lfit" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Jevan Wu</a></div><div class="site-subtitle font-italic">Don't Panic</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/jevanwu" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://linkedin.com/in/jevan-wu" aria-label="linkedin" target="_blank" rel="noopener"> <i class="fab fa-linkedin"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['jevanwu','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>聊一聊设计模式</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>聊一聊设计模式</h1><div class="post-meta text-muted"><div> By <em> <a href="https://twitter.com/username">jevanwu</a> </em></div><div class="d-flex"><div> <span> Posted <em class="timeago" data-ts="1605369600" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2020-11-15 </em> </span> <span> Updated <em class="timeago" data-ts="1643863052" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2022-02-03 </em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="770 words"> <em>4 min</em> read</span></div></div></div><div class="post-content"><h2 id="背景">背景 <a href="#背景" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><p>作为程序员，数据结构, 算法和设计模式是经常被提起，且绕不过的三扇大门。对这三项通用技能的掌握可能直接影响你能拿到手的钱。</p><p>相对来说，数据结构和算法还是比较实际，只要你花时间，不断练习，都不会太差的东西，类似武功中的招数。而设计模式却虚无缥缈很多，类似于武功的心法，需要你自己领悟，只有真正领悟透彻后，它才是你能够使用的利器。</p><p>那学习设计模式，我们又是在学习什么呢？它能给我们带来什么呢？</p><h2 id="学习设计模式是为了什么">学习设计模式是为了什么 <a href="#学习设计模式是为了什么" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><p>学习设计模式其实本质是在学习如何将我们的代码解耦，且易于后续的扩展。这样，可维护性提高了之后，日后的需求改动所需要的代码改动会有质的差别。毕竟 <em>不变的只有变化</em> 嘛。</p><h2 id="设计原则和设计模式的关系">设计原则和设计模式的关系 <a href="#设计原则和设计模式的关系" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><p>说到设计模式，我们应该再说说设计原则和设计模式之间的关系。</p><p>设计原则是指导我们代码设计的一些经验总结，对于某些场景下，是否应该应用某种设计模式，具有指导意义。比如，“开闭原则”是很多设计模式（策略、模板等）的指导原则。</p><p>而设计模式是针对软件开发中经常遇到的一些设计问题，总结出来的一套解决方案或者设计思路。应用设计模式的主要目的是提高代码的可扩展性。从抽象程度上来讲，设计原则比设计模式更抽象。设计模式更加具体、更加可执行。</p><p>设计原则和设计模式共同对我们的代码规范和日常代码起着指导性的作用。</p><h2 id="设计原则">设计原则 <a href="#设计原则" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><p>设计原则主要包含<code class="language-plaintext highlighter-rouge">SOLID原则</code>, <code class="language-plaintext highlighter-rouge">KISS原则</code>, <code class="language-plaintext highlighter-rouge">YAGNI原则</code>, <code class="language-plaintext highlighter-rouge">DRY原则</code>, <code class="language-plaintext highlighter-rouge">LOD原则</code>。我们分别来说说代表的意思。</p><h3 id="solid原则">SOLID原则 <a href="#solid原则" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><p>SOLID原则包含了多个重要设计原则指的是</p><ul><li>SRP - Single Responsibility Principle 单一职责原则<li>OCP - Open Close Principle 开闭原则<li>LSP - Liskov Substitution Principle 里氏替换原则<li>ISP - Interface Segregation Principle 接口隔离原则<li>DIP - Dependency Inversion Principle 依赖反转原则</ul><h3 id="kiss原则">KISS原则 <a href="#kiss原则" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><p>Keep it Simple and Stupid</p><h3 id="yagni原则">YAGNI原则 <a href="#yagni原则" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><p>You Ain’t Gonna Need it. 在设计或开发的时候，多思考是否真的需要，避免过度设计。</p><h3 id="dry原则">DRY原则 <a href="#dry原则" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><p>Don’t Repeat Yourself 不要写重复的代码。</p><h3 id="lod原则">LOD原则 <a href="#lod原则" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><p>Law of Demeter, AKA, The Least Knowledge Principle. 迪米特法则。高内聚、低耦合。底层较通用的类需要尽量不依赖其他类，做好抽象，达到足够的解耦。</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/programming/'>programming</a></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%9A%84%E8%81%94%E7%B3%BB%E4%B8%8E%E4%BD%BF%E7%94%A8/">数据结构的联系与使用</a><li><a href="/posts/how-to-know-the-trending-of-economy/">如何判断当前的经济情况</a><li><a href="/posts/the-precious-links/">The Precious Links</a><li><a href="/posts/learning-metaprogramming/">Learning metaprogramming</a><li><a href="/posts/%E8%81%8A%E4%B8%80%E8%81%8A%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">聊一聊设计模式</a></ul></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/learning-metaprogramming/"><div class="card-body"> <em class="timeago small" data-ts="1422742040" > 2015-02-01 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Learning metaprogramming</h3><div class="text-muted small"><p> Dynamic Patch the send method could be used to call methods obj.send(:my_method, params) Dynamic Method the define_method method could be used to create instance method class Foo do def...</p></div></div></a></div><div class="card"> <a href="/posts/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%9A%84%E8%81%94%E7%B3%BB%E4%B8%8E%E4%BD%BF%E7%94%A8/"><div class="card-body"> <em class="timeago small" data-ts="1631462400" > 2021-09-13 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>数据结构的联系与使用</h3><div class="text-muted small"><p> 前言 作为程序员，基础数据结构是我们在日常工作中必须掌握的基础知识，就像是建房子时的图纸，而熟练地掌握数据结构可以让我们在工作中能够以更加高效和巧妙的方式来解决所遇到的问题。 然而，没有一个数据结构是完美的，每一个数据结构都是优点和缺点并存，就如同世间万物，总是有正反或阴阳两面。 每一个数据结构都是计算机科学家们为了解决某一个问题而发明的，并没有好坏之分，只是在具体的场景下，会有更适合的...</p></div></div></a></div><div class="card"> <a href="/posts/how-to-set-up-the-environment-of-ruby-on-rails/"><div class="card-body"> <em class="timeago small" data-ts="1394318142" > 2014-03-09 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>How to set up the environment of Ruby on Rails</h3><div class="text-muted small"><p> Install RVM and Ruby RVM is used to manage different version of ruby. With RVM, you can switch between multiple different version of ruby. To install RVM, simply type the following command in the...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/learning-metaprogramming/" class="btn btn-outline-primary" prompt="Older"><p>Learning metaprogramming</p></a> <a href="/posts/principles/" class="btn btn-outline-primary" prompt="Newer"><p>Principles</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2024 <a href="https://twitter.com/username">jevanwu</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">All rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1,npm/dayjs@1/locale/en.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.16.1,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/app.js"></script>
